# ??? ????? ?? MauiPersianToolkit - ??????? ????

## ?? ?????

????????? ????? (????? ??????? ????) ????? ?? ?? ????? ??????? ???????? ???????. ?? ????? ????????? ????? ?? ???? ????.

## ?? ????????? ???????? ???

### 1?? ????? ???? (Persian/Jalali)
- **??? ????**: ????? ?????
- **???????**: ????? ? ???? ??????? ????
- **????????**:
  - ???: 1403-1404
  - ???: 12 ???
  - ??? ?????: ????
  - ????: yyyy/MM/dd

```csharp
var persianOptions = new CalendarOptions 
{ 
    CalendarType = CalendarType.Persian 
};
var datePicker = new DatePicker 
{ 
    CalendarOption = persianOptions 
};
```

### 2?? ????? ?????? (Gregorian)
- **??? ????**: ????? ??????
- **???????**: ????? ??????? ????
- **????????**:
  - ???: 2024-2025
  - ???: 12 ???
  - ??? ?????: ??????
  - ????: yyyy/MM/dd

```csharp
var gregorianOptions = new CalendarOptions 
{ 
    CalendarType = CalendarType.Gregorian 
};
```

### 3?? ????? ???? (Hijri/Islamic)
- **??? ????**: ????? ???? ????
- **???????**: ??????? ?????? ? ?????
- **????????**:
  - ???: 1446-1447
  - ???: 12 ???
  - ??? ?????: ????
  - ????: yyyy/MM/dd
  - ??????? ???: ????? ???? ???? ?????? ...

```csharp
var hijriOptions = new CalendarOptions 
{ 
    CalendarType = CalendarType.Hijri 
};
```

## ?? ????? ??? ????????

### ????? DateTime ?? ?????

```csharp
var today = DateTime.Now;

// ????
string persianDate = today.ToCalendarDate(CalendarType.Persian);
// ?????: "1403/05/25"

// ??????
string gregorianDate = today.ToCalendarDate(CalendarType.Gregorian);
// ?????: "2024/08/16"

// ????
string hijriDate = today.ToCalendarDate(CalendarType.Hijri);
// ?????: "1446/02/21"
```

### ????? ??? ????? ?? DateTime

```csharp
// ????
var persianDate = "1403/05/25".ToDateTime(CalendarType.Persian);

// ??????
var gregorianDate = "2024/08/16".ToDateTime(CalendarType.Gregorian);

// ????
var hijriDate = "1446/02/21".ToDateTime(CalendarType.Hijri);
```

## ?? ??????? ?? XAML

### ????? ????

```xml
<persian:DatePicker 
    x:Name="PersianDatePicker"
    PlaceHolder="?????? ????? ????"
    SelectedPersianDate="{Binding SelectedPersianDate}"
    DisplayFormat="yyyy/MM/dd" />
```

### ????? ??????

```xml
<persian:DatePicker 
    x:Name="GregorianDatePicker"
    PlaceHolder="Select Gregorian Date"
    CalendarType="Gregorian"
    SelectedPersianDate="{Binding SelectedGregorianDate}"
    DisplayFormat="yyyy/MM/dd" />
```

### ????? ????

```xml
<persian:DatePicker 
    x:Name="HijriDatePicker"
    PlaceHolder="???? ??????? ??????"
    CalendarType="Hijri"
    SelectedPersianDate="{Binding SelectedHijriDate}"
    DisplayFormat="yyyy/MM/dd" />
```

## ?? ??????? ?? Code-Behind

### ????? DatePicker ???? ?? ?????

```csharp
// ????
var persianOptions = new CalendarOptions 
{
    CalendarType = CalendarType.Persian,
    SelectionMode = SelectionMode.Single,
    DisplayFormat = "yyyy/MM/dd"
};

// ??????
var gregorianOptions = new CalendarOptions 
{
    CalendarType = CalendarType.Gregorian,
    SelectionMode = SelectionMode.Single,
    DisplayFormat = "yyyy/MM/dd"
};

// ????
var hijriOptions = new CalendarOptions 
{
    CalendarType = CalendarType.Hijri,
    SelectionMode = SelectionMode.Single,
    DisplayFormat = "yyyy/MM/dd"
};
```

## ?? ??????? ???? ???? ????????? ?????

```csharp
var options = new CalendarOptions
{
    CalendarType = CalendarType.Persian,
    SelectDayColor = Colors.Blue,    // ??? ??? ?????? ???
    CanSelectHolidays = false,       // ??? ?????? ??? ?????
    AutoCloseAfterSelectDate = true  // ???? ?????? ??? ??????
};
```

## ?? ?????? ????????

| ????? | ???? | ?????? | ???? |
|------|------|--------|------|
| **??? ????** | 1403 | 2024 | 1446 |
| **????? ???** | 12 | 12 | 12 |
| **??? ?????** | ???? | ?????? | ???? |
| **??? ??????** | ????? | ??????? | ???? |
| **???? ???????** | ????? | ???? | ?????? |
| **??? ????????** | ????? | ?? 4 ??? | ????? |

## ?? ??????? ???????

### ????? ???? ????????? ???? ??????

```csharp
var options = new CalendarOptions
{
    CalendarType = CalendarType.Persian,
    MinDateCanSelect = new DateTime(2024, 1, 1),  // ?? ??? ?????
    MaxDateCanSelect = new DateTime(2024, 12, 31) // ?? ??? ?????
};
```

### ???? ???? ??????? ???

```csharp
var options = new CalendarOptions
{
    CalendarType = CalendarType.Gregorian,
    InactiveDays = new List<DateTime>
    {
        new DateTime(2024, 12, 25), // ??????
        new DateTime(2024, 1, 1)    // ??? ??
    }
};
```

### ?????? ??? ????? (Multiple Selection)

```csharp
var options = new CalendarOptions
{
    CalendarType = CalendarType.Persian,
    SelectionMode = SelectionMode.Multiple
};
```

### ?????? ?????? ?????? (Range Selection)

```csharp
var options = new CalendarOptions
{
    CalendarType = CalendarType.Gregorian,
    SelectionMode = SelectionMode.Range
};
```

## ?? ???? ????

```xml
<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:persian="clr-namespace:MauiPersianToolkit.Controls;assembly=MauiPersianToolkit"
             x:Class="MyApp.MainPage"
             Title="??? ?????">
    
    <StackLayout Padding="20" Spacing="20">
        <!-- ????? ???? -->
        <Label Text="????? ????" FontSize="20" FontAttributes="Bold"/>
        <persian:DatePicker 
            PlaceHolder="?????? ????? ????"
            SelectedPersianDate="{Binding PersianDate}"/>

        <!-- ????? ?????? -->
        <Label Text="Gregorian Calendar" FontSize="20" FontAttributes="Bold"/>
        <persian:DatePicker 
            PlaceHolder="Select Gregorian Date"
            CalendarType="Gregorian"
            SelectedPersianDate="{Binding GregorianDate}"/>

        <!-- ????? ???? -->
        <Label Text="??????? ??????" FontSize="20" FontAttributes="Bold"/>
        <persian:DatePicker 
            PlaceHolder="???? ??????? ??????"
            CalendarType="Hijri"
            SelectedPersianDate="{Binding HijriDate}"/>
    </StackLayout>
</ContentPage>
```

## ?? ??? ???? ????????

```csharp
// ????? ViewModels ???? ????????? ?????
var persianVM = new DatePickerViewModel(new CalendarOptions 
{ 
    CalendarType = CalendarType.Persian 
});

var gregorianVM = new DatePickerViewModel(new CalendarOptions 
{ 
    CalendarType = CalendarType.Gregorian 
});

var hijriVM = new DatePickerViewModel(new CalendarOptions 
{ 
    CalendarType = CalendarType.Hijri 
});

// ????? ?????? ? ???
Console.WriteLine($"Persian: {persianVM.CurrentMonth} {persianVM.CurrentYear}");
Console.WriteLine($"Gregorian: {gregorianVM.CurrentMonth} {gregorianVM.CurrentYear}");
Console.WriteLine($"Hijri: {hijriVM.CurrentMonth} {hijriVM.CurrentYear}");
```

## ? ?????? ??????

### Q: ????? ?? ????? ????? ????? ????
A: ?? ???? ????? `CalendarOptions.CalendarType`:
```csharp
datePicker.CalendarOption.CalendarType = CalendarType.Gregorian;
```

### Q: ??? ???????? ????? ?????? ????? ????
A: ???! `ICalendarService` ?? ?????????? ???? ? ?? Factory ??? ????.

### Q: ??? ????? ???? ?? ????? ?????
A: ???? ? ????: ????? ??????: ??????

### Q: ????? ??? ???????? ????? ????
A: ?? ????? extension ?? `CalendarService` ?????? ??????? ????.

## ?? ????? ?????

- `ICalendarService`: Interface ???? ???? ?????? ?????
- `CalendarServiceFactory`: Factory ???? ????? ????????
- `DatePickerViewModel`: ViewModel ???? ???? ?????
- `CalendarOptions`: ??????? ?????
